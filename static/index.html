<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="manifest" href="./manifest.json">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Timeyâ€“wimey, wibblyâ€“wobbly</title>
        <link rel="stylesheet" href="./stylesheet/index.css" />
        <link rel="icon" type="image/png" href="./media/icons/icon-32.png">
        <link rel="apple-touch-icon" href="./media/icons/icon-apple-512.png">
        <meta name="theme-color" content="hsl(79, 70%, 74%)" data-status-bg>
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <service-worker href="/serviceWorker.mjs"></service-worker>
    </head>
    <body class="t-main" data-authorized="undefined">
        <script
            type="module"
            src="./scripts/index.mjs"
            onerror="document.body.textContent = 'Some sort of failure happened ðŸ¤·'"
        ></script>

        <form class="o-form m-loader__wrapper u-unauthorized" id=login method=POST>
            <p class="m-formElement">
                <label class="m-formElement__label" for=login_login>
                    E-Mail
                </label>
                <input
                    id=login_login
                    class="m-formElement__input a-input a-input--login"
                    type=email
                    name=login
                    autocomplete="email"
                    required
                />
            </p>
            <p class="m-formElement">
                <label class="m-formElement__label" for=login_password>
                    <abbr>API</abbr> token
                </label>
                <input
                    id=login_password
                    class="m-formElement__input a-input a-input--password"
                    type=password
                    name=password
                    autocomplete="current-password"
                    aria-describedby="login_password_desc"
                    required
                />
                <p id=login_password_desc>
                    Youâ€™ll find it on your
                    <a
                        target=_blank
                        rel="noopener nofollow"
                        href="https://my.clockodo.com/en/users/editself#grouphead_api"
                    >Clockodo settings page</a>.
                </p>
            </p>
            <div class="m-actions">
                <button
                    class="a-button a-button--primary m-actions__action"
                    type=submit
                >
                    Let me track my time
                </button>
            </div>

            <!-- TODO <tw-loader active /> -->
            <div
                hidden
                data-loader
                class="m-loader__animation"
                aria-live="polite"
            >
                Things are happeningâ€¦
            </div>
        </form>

        <form class="o-form m-loader__wrapper u-authorized" id=current method=POST>
            <p class="m-formElement">
                <label class="m-formElement__label" for=current_task>
                    Task
                </label>
                <input
                    id=current_task
                    class="m-formElement__input a-input a-input--text"
                    name=task
                    type=text
                    required
                    list=current_task__list
                />
                <datalist id=current_task__list name=task__list>
                </datalist>
            </p>
            <p class="m-formElement">
                <label class="m-formElement__label" for=current_project>
                    Project
                </label>
                <select
                    id=current_project
                    class="m-formElement__input a-input a-input--select"
                    name=project
                    required
                >
                </select>
            </p>
            <!-- TODO Add required attribute, when implemented -->
            <p class="u-v3 m-formElement">
                <label class="m-formElement__label"
                for=current_start-time>
                    Start time
                </label>
                <input
                    id=current_start-time
                    class="m-formElement__input a-input a-input--date"
                    name=start-time
                    type="datetime-local"
                />
            </p>
            <dl class="m-timer">
                <dt
                    class="m-timer__label m-timer__label--day"
                    aria-label="Current task running for"
                >
                    Current
                </dt>
                <dd class="m-timer__value timer__value--day">
                    <time
                        is=tw-duration
                        class="a-duration"
                        name="duration"
                        precision="s"
                    >
                    </time>
                </dd>
            </dl>
            <div class="m-actions">
                <button
                    class="a-button m-actions__action"
                    type=button
                    name=stop
                >
                    Stop
                </button>
                <button
                    class="u-v3 a-button m-actions__action"
                    type=button
                    name=split
                >
                    Split
                </button>
                <button
                    class="a-button m-actions__action"
                    type=button
                    name=change
                >
                    Change
                </button>
                <button
                    class="a-button a-button--primary m-actions__action"
                    type=submit
                    name=start
                >
                    Start new
                </button>
            </div>

            <div
                hidden
                data-loader
                class="m-loader__animation"
                aria-live="polite"
            >
                Things are happeningâ€¦
            </div>
        </form>

        <article class="u-v2-1 u-authorized">
            <section>
                <h2>
                    <time datetime="2020-04">April</time>
                </h2>
                <dl class="u-v2-2 o-progressTimer"> <!-- FIXME -->
                    <div class="m-timer">
                        <dt
                            class="m-timer__label m-timer__label--month"
                            aria-label="Time logged for April"
                        >
                            Total
                        </dt>
                        <dd class="m-timer__value m-timer__value--month">
                            <time
                                is=tw-duration
                                class="a-duration"
                                datetime="PT0H15M0S"
                            >
                                15 m
                            </time>
                        </dd>
                    </div>
                    <div class="m-timer">
                        <dt
                            class="m-timer__label m-timer__label--month"
                            aria-label="time required for April up till today"
                        >
                            out of
                        </dt>
                        <dd class="m-timer__value m-timer__value--month">
                            <time
                                is=tw-duration
                                class="a-duration"
                                datetime="PT176H"
                                precision="h"
                            >
                                176 h
                            </time>
                        </dd>
                    </div>
                </dl>
                <article>
                    <section>
                        <h3>
                            <time datetime="2020-04-26">Today</time>
                        </h3>
                        <div class="u-v3 m-actions">
                            <button
                                class="a-button a-button--primary m-actions__action"
                                type=button
                                aria-label="Add entry on 26th April"
                            >
                                Add
                            </button>
                        </div>
                        <dl class="u-v2-2 o-progressTimer"> <!-- FIXME -->
                            <div class="m-timer">
                                <dt
                                    class="m-timer__label m-timer__label--day"
                                    aria-label="Time logged for 26th April"
                                >
                                    Total
                                </dt>
                                <dd class="m-timer__value m-timer__value--day">
                                    <time
                                        is=tw-duration
                                        class="a-duration"
                                        datetime="PT0H15M0S"
                                    >
                                        15 m
                                    </time>
                                </dd>
                            </div>
                            <div class="m-timer">
                                <dt
                                    class="m-timer__label m-timer__label--day"
                                    aria-label="time required for April up till today"
                                >
                                    out of
                                </dt>
                                <dd class="m-timer__value m-timer__value--day">
                                    <time
                                        is=tw-duration
                                        class="a-duration"
                                        datetime="PT8H"
                                        precision="m"
                                    >
                                        176 h
                                    </time>
                                </dd>
                            </div>
                        </dl>
                        <ol reversed class="o-entryList">
                            <li class="o-entryList__item o-entryList__item--break">
                                <time
                                    is=tw-duration
                                    class="a-duration"
                                    datetime="PT0H15M0S"
                                >
                                    15 m
                                </time>
                                break
                            </li>
                            <li class="o-entryList__item o-entryList__item--entry m-entry">
                                <span class="m-entry__task">
                                    Performance improvements
                                </span>
                                <span class="u-sr">filed under</span>
                                <span class="m-entry__project">
                                    Project X, Client Bar
                                </span>
                                <div class="m-entry__duration">
                                    <span class="u-sr">for</span>
                                    <time
                                        is=tw-duration
                                        class="a-duration"
                                        datetime="PT2H0M0S"
                                    >
                                        2 h 00 m
                                    </time>
                                </div>
                                <div class="m-entry__timeframe a-timeframe">
                                    <span class="u-sr">from</span>
                                    <time
                                        class="a-timeframe__from"
                                        datetime="2020-04-26T10:00:00"
                                    >
                                        10:00
                                    </time>
                                    <span class="u-sr">to</span>
                                    <time
                                        class="a-timeframe__to"
                                        datetime="2020-04-26T12:00:00"
                                    >
                                        12:00
                                    </time>
                                </div>
                                <div class="m-actions">
                                    <button
                                        class="a-button a-button--destructive m-actions__action"
                                        type=button
                                    >
                                        Delete
                                    </button>
                                    <button
                                        class="u-v3 a-button m-actions__action"
                                        type=button
                                    >
                                        Split
                                    </button>
                                    <button
                                        class="u-v3 a-button m-actions__action"
                                        type=button
                                    >
                                        Edit
                                    </button>
                                    <button
                                        class="a-button a-button--primary m-actions__action"
                                        type=button
                                    >
                                        Continue
                                    </button>
                                </div>
                            </li>
                        </ol>
                    </section>
                </article>
            </section>
        </article>
    </body>
</html>
